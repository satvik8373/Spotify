<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<meta name="theme-color" content="#1DB954" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="apple-mobile-web-app-title" content="Mavrixfy" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />
		
		<!-- Performance optimizations -->
		<meta name="description" content="High-performance music streaming with optimized mobile experience" />
		<meta name="robots" content="index, follow" />
		<meta name="author" content="Mavrixfy" />
		
		<!-- Preconnect to external domains for faster loading -->
		<link rel="preconnect" href="https://firebase.googleapis.com" crossorigin>
		<link rel="preconnect" href="https://spotify-8fefc.firebaseapp.com" crossorigin>
		<link rel="preconnect" href="https://res.cloudinary.com" crossorigin>
		<link rel="preconnect" href="https://api.spotify.com" crossorigin>
		<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		
		<!-- DNS prefetch for additional domains -->
		<link rel="dns-prefetch" href="//res.cloudinary.com">
		<link rel="dns-prefetch" href="//api.spotify.com">
		<link rel="dns-prefetch" href="//fonts.googleapis.com">
		<link rel="dns-prefetch" href="//fonts.gstatic.com">
		<link rel="dns-prefetch" href="//firebase.googleapis.com">
		<link rel="dns-prefetch" href="//spotify-8fefc.firebaseapp.com">
		
		<!-- Preload critical resources -->
		<link rel="preload" href="/src/main.tsx" as="script" type="module">
		<link rel="preload" href="/spotify-icons/spotify-logo-green.svg" as="image" type="image/svg+xml">
		
		<!-- Preload critical fonts -->
		<link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
		<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"></noscript>
		
		<!-- Resource hints for better performance -->
		<link rel="modulepreload" href="/src/main.tsx">
		
		<!-- Mobile-specific optimizations -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="mobile-web-app-capable" content="yes">
		
		<!-- PWA manifest -->
		<link rel="manifest" href="/manifest.json">
		
		<!-- Apple touch icons -->
		<link rel="apple-touch-icon" href="/apple-touch-icon-180.png" sizes="180x180">
		<link rel="apple-touch-icon" href="/apple-touch-icon-152.png" sizes="152x152">
		<link rel="apple-touch-icon" href="/apple-touch-icon-120.png" sizes="120x120">
		
		<!-- Favicon -->
		<link rel="icon" type="image/png" sizes="32x32" href="/spotify-icons/spotify-icon-32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/spotify-icons/spotify-icon-16.png">
		
		<title>Mavrixfy - Your Ultimate Music Experience</title>
		
		<!-- Critical CSS inline for faster rendering -->
		<style>
			/* Critical CSS for above-the-fold content */
			* { box-sizing: border-box; }
			body { 
				margin: 0; 
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
				line-height: 1.5;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}
			
			/* Loading states */
			.loading-spinner-fast {
				animation: spin 0.8s linear infinite;
			}
			@keyframes spin {
				0% { transform: rotate(0deg); }
				100% { transform: rotate(360deg); }
			}
			
			/* Smooth transitions */
			.smooth-transition-fast {
				transition: all 0.15s ease-out;
			}
			
			/* Interactive buttons */
			.btn-interactive {
				cursor: pointer;
				user-select: none;
				-webkit-tap-highlight-color: transparent;
			}
			
			/* Essential layout classes */
			.min-h-screen { min-height: 100vh; }
			.flex { display: flex; }
			.flex-col { flex-direction: column; }
			.items-center { align-items: center; }
			.justify-center { justify-content: center; }
			.text-center { text-align: center; }
			.space-y-8 > * + * { margin-top: 2rem; }
			.space-y-4 > * + * { margin-top: 1rem; }
			
			/* Essential colors */
			.bg-zinc-900 { background-color: #18181b; }
			.bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
			.from-zinc-900 { --tw-gradient-from: #18181b; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(24, 24, 27, 0)); }
			.via-zinc-800 { --tw-gradient-stops: var(--tw-gradient-from), #27272a, var(--tw-gradient-to, rgba(39, 39, 42, 0)); }
			.to-black { --tw-gradient-to: #000000; }
			
			/* Essential text styles */
			.text-white { color: #ffffff; }
			.text-zinc-400 { color: #a1a1aa; }
			.text-zinc-300 { color: #d4d4d8; }
			.text-zinc-500 { color: #71717a; }
			.text-green-500 { color: #22c55e; }
			.text-black { color: #000000; }
			
			/* Essential spacing */
			.p-4 { padding: 1rem; }
			.pt-8 { padding-top: 2rem; }
			.max-w-md { max-width: 28rem; }
			.mx-auto { margin-left: auto; margin-right: auto; }
			.h-16 { height: 4rem; }
			.w-16 { width: 4rem; }
			.h-6 { height: 1.5rem; }
			.w-6 { width: 1.5rem; }
			.h-2 { height: 0.5rem; }
			.w-2 { width: 0.5rem; }
			
			/* Essential typography */
			.text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
			.text-lg { font-size: 1.125rem; line-height: 1.75rem; }
			.text-sm { font-size: 0.875rem; line-height: 1.25rem; }
			.font-bold { font-weight: 700; }
			.font-semibold { font-weight: 600; }
			
			/* Essential layout */
			.rounded-full { border-radius: 9999px; }
			.border-2 { border-width: 2px; }
			.border-t-green-500 { border-top-color: #22c55e; }
			.border-r-transparent { border-right-color: transparent; }
			.border-b-transparent { border-bottom-color: transparent; }
			.border-l-transparent { border-left-color: transparent; }
			
			/* Essential flexbox */
			.space-x-3 > * + * { margin-left: 0.75rem; }
			.space-x-4 > * + * { margin-left: 1rem; }
			
			/* Essential positioning */
			.relative { position: relative; }
			.absolute { position: absolute; }
			
			/* Essential display */
			.block { display: block; }
			.hidden { display: none; }
			
			/* Essential sizing */
			.w-full { width: 100%; }
			.h-full { height: 100%; }
			
			/* Essential backgrounds */
			.bg-green-500 { background-color: #22c55e; }
			.bg-transparent { background-color: transparent; }
			
			/* Essential borders */
			.border-zinc-600 { border-color: #52525b; }
			.border-zinc-500 { border-color: #71717a; }
			
			/* Essential hover states */
			.hover\:bg-green-600:hover { background-color: #16a34a; }
			.hover\:border-zinc-500:hover { border-color: #71717a; }
			
			/* Essential transforms */
			.hover\:scale-105:hover { transform: scale(1.05); }
			.active\:scale-95:active { transform: scale(0.95); }
			
			/* Essential transitions */
			.transition-all { transition-property: all; }
			.duration-150 { transition-duration: 150ms; }
			
			/* Essential text alignment */
			.text-left { text-align: left; }
			
			/* Essential flexbox utilities */
			.flex-1 { flex: 1 1 0%; }
			
			/* Essential responsive utilities */
			@media (min-width: 768px) {
				.md\:grid { display: grid; }
				.md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
				.md\:text-left { text-align: left; }
				.md\:text-right { text-align: right; }
				.md\:justify-end { justify-content: flex-end; }
				.md\:block { display: block; }
				.md\:hidden { display: none; }
				.md\:p-8 { padding: 2rem; }
				.md\:text-6xl { font-size: 3.75rem; line-height: 1; }
				.md\:mx-0 { margin-left: 0; margin-right: 0; }
				.md\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
				.md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
				.md\:gap-6 { gap: 1.5rem; }
				.md\:gap-12 { gap: 3rem; }
				.md\:items-center { align-items: center; }
				.md\:col-span-1 { grid-column: span 1 / span 1; }
				.md\:col-span-2 { grid-column: span 2 / span 2; }
			}
			
			/* Essential mobile optimizations */
			@media (max-width: 768px) {
				.mobile-optimized {
					transform: translateZ(0);
					will-change: auto;
					backface-visibility: hidden;
				}
				
				/* Reduce animation complexity on mobile */
				* {
					animation-duration: 0.1s !important;
					transition-duration: 0.1s !important;
				}
				
				/* Mobile touch targets */
				button, a, input, select, textarea {
					min-width: 44px;
					min-height: 44px;
					touch-action: manipulation;
				}
			}
			
			/* Essential performance optimizations */
			.performance-optimized {
				contain: layout style paint;
				will-change: auto;
			}
			
			/* Essential loading optimizations */
			.lazy-load {
				opacity: 0;
				transition: opacity 0.3s ease-in-out;
			}
			
			.lazy-load.loaded {
				opacity: 1;
			}
			
			/* Essential image optimizations */
			img {
				max-width: 100%;
				height: auto;
				display: block;
			}
			
			/* Essential button optimizations */
			button, a {
				-webkit-tap-highlight-color: transparent;
				touch-action: manipulation;
			}
			
			/* Essential focus states for accessibility */
			button:focus, a:focus {
				outline: 2px solid #22c55e;
				outline-offset: 2px;
			}
			
			/* Essential print styles */
			@media print {
				.no-print { display: none !important; }
			}
			
			/* Loading screen */
			#root { min-height: 100vh; }
			.loading { display: flex; justify-content: center; align-items: center; height: 100vh; }
			.spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #1DB954; border-radius: 50%; animation: spin 1s linear infinite; }
		</style>
		
		<!-- Spotify Web Playback SDK: load after idle to avoid affecting FCP/LCP -->
		<script>
			// Performance optimization: Load Spotify SDK after page load
			window.addEventListener('load', function() {
				setTimeout(function() {
					var script = document.createElement('script');
					script.src = 'https://sdk.scdn.co/spotify-player.js';
					script.async = true;
					document.head.appendChild(script);
				}, 2000); // Increased delay to prioritize critical content
			});
			
			// Service Worker registration for PWA
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', function() {
					navigator.serviceWorker.register('/service-worker.js')
						.then(function(registration) {
							console.log('SW registered: ', registration);
						})
						.catch(function(registrationError) {
							console.log('SW registration failed: ', registrationError);
						});
				});
			}
			
			// Performance monitoring
			if ('performance' in window) {
				window.addEventListener('load', function() {
					setTimeout(function() {
						const perfData = performance.getEntriesByType('navigation')[0];
						console.log('Page Load Performance:', {
							TTFB: perfData.responseStart - perfData.requestStart,
							DOMContentLoaded: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,
							LoadComplete: perfData.loadEventEnd - perfData.loadEventStart
						});
					}, 0);
				});
			}
			
			// Mobile-specific optimizations
			if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
				document.documentElement.classList.add('mobile-device');
				
				// Reduce animation complexity on mobile
				const style = document.createElement('style');
				style.textContent = `
					@media (max-width: 768px) {
						* { animation-duration: 0.1s !important; transition-duration: 0.1s !important; }
						.mobile-optimized { transform: translateZ(0); will-change: auto; }
					}
				`;
				document.head.appendChild(style);
			}
		</script>
	</head>
	<body>
		<div id="root">
			<div class="loading">
				<div class="spinner"></div>
			</div>
		</div>
		<script type="module" src="/src/main.tsx"></script>
	</body>
</html>
