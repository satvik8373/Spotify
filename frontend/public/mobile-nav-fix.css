/* Mobile Navigation Background Fix - iOS PWA Compatible */

/* Ensure transparent background for mobile navigation */
.mobile-nav-transparent {
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 50%, transparent 100%) !important;
  background-color: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  /* Ensure proper bottom spacing on iOS */
  min-height: calc(80px + env(safe-area-inset-bottom, 20px)) !important;
}

/* iOS PWA specific fixes */
@media (display-mode: standalone) {
  .mobile-nav-transparent {
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 50%, transparent 100%) !important;
    background-color: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    /* Extra padding for iOS PWA */
    min-height: calc(80px + env(safe-area-inset-bottom, 25px)) !important;
  }
  
  /* Ensure body extends to full height on iOS PWA */
  body {
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
    background-color: var(--background) !important;
  }
  
  /* Fix for iOS viewport height issues */
  #root {
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
  }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  .mobile-nav-transparent {
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 50%, transparent 100%) !important;
    background-color: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    /* iOS Safari specific bottom spacing */
    min-height: calc(80px + env(safe-area-inset-bottom, 20px)) !important;
  }
  
  /* Fix iOS Safari viewport issues */
  body {
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
  }
  
  #root {
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
  }
}

/* Prevent any theme overrides */
.mobile-nav-transparent,
.mobile-nav-transparent * {
  --tw-bg-opacity: 0 !important;
}

/* Override any potential background classes */
.mobile-nav-transparent .bg-background,
.mobile-nav-transparent .bg-black,
.mobile-nav-transparent .dark\:bg-\[\#191414\] {
  background-color: transparent !important;
  background: transparent !important;
}

/* Fix for iOS bottom black area - ensure content extends properly */
@media (max-width: 768px) {
  /* iOS specific viewport fixes */
  @supports (-webkit-touch-callout: none) {
    html {
      height: -webkit-fill-available !important;
      background-color: var(--background, #000000) !important;
    }
    
    body {
      min-height: 100vh !important;
      min-height: -webkit-fill-available !important;
      padding-bottom: env(safe-area-inset-bottom, 0px) !important;
      background-color: var(--background, #000000) !important;
      overflow-x: hidden !important;
    }
    
    /* Ensure main content area extends properly */
    main, .main-content, [data-main-content] {
      min-height: calc(100vh - env(safe-area-inset-top, 0px)) !important;
      min-height: calc(-webkit-fill-available - env(safe-area-inset-top, 0px)) !important;
      background: linear-gradient(to bottom, var(--background) 0%, var(--background) 95%, var(--background) 100%) !important;
    }
    
    /* Fix ScrollArea for iOS */
    [data-radix-scroll-area-viewport] {
      padding-bottom: calc(120px + env(safe-area-inset-bottom, 20px)) !important;
      background-color: transparent !important;
    }
    
    /* Ensure scroll content extends properly */
    .scroll-content {
      min-height: calc(100vh + 100px) !important;
      background-color: var(--background, #000000) !important;
    }
  }
  
  /* General mobile fixes */
  body {
    background-color: var(--background, #000000) !important;
    overflow-x: hidden !important;
  }
  
  html {
    background-color: var(--background, #000000) !important;
  }
  
  /* Ensure no gaps at bottom */
  .mobile-nav-transparent {
    bottom: 0 !important;
    position: fixed !important;
    z-index: 50 !important;
  }
  
  /* Fix for dark mode on iOS */
  .dark body,
  .dark html {
    background-color: #191414 !important;
  }
  
  .dark main,
  .dark [data-main-content] {
    background: linear-gradient(to bottom, #191414 0%, #191414 95%, #191414 100%) !important;
  }
}

/* Additional iOS PWA fixes */
@media (display-mode: standalone) and (max-width: 768px) {
  body {
    background-color: var(--background, #000000) !important;
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
  }
  
  main, [data-main-content] {
    min-height: calc(100vh - env(safe-area-inset-top, 0px)) !important;
    min-height: calc(-webkit-fill-available - env(safe-area-inset-top, 0px)) !important;
  }
  
  .dark body {
    background-color: #191414 !important;
  }
}