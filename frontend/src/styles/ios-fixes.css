/* iOS Specific Fixes for Bottom Black Area and Mobile Nav Transparency */

/* Mobile Navigation Transparency Fix - Always Transparent */
.mobile-nav-transparent,
.mobile-nav-gradient-container {
    background: transparent !important;
    background-color: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

/* Prevent any background overrides on mobile nav container */
.mobile-nav-gradient-container,
.mobile-nav-gradient-container * {
    --tw-bg-opacity: 0 !important;
}

/* Ensure the player container can still have its dynamic background */
.mobile-nav-gradient-container .mobile-player-container {
    background: initial !important;
    background-color: initial !important;
}

/* Navigation items container should have the gradient */
.mobile-nav-gradient-container .grid {
    background: linear-gradient(0deg, #121212 0%, rgba(18, 18, 18, 0.95) 10%, rgba(18, 18, 18, 0.9) 25%, rgba(18, 18, 18, 0.8) 40%, rgba(18, 18, 18, 0.6) 60%, rgba(18, 18, 18, 0.4) 75%, rgba(18, 18, 18, 0.2) 85%, rgba(18, 18, 18, 0.1) 95%, transparent 100%) !important;
}

/* Ensure hover states work but don't add backgrounds */
.mobile-nav-gradient-container .hover\:bg-white\/5:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Additional iOS PWA transparency fixes */
@media (display-mode: standalone) {
    .mobile-nav-gradient-container {
        background: transparent !important;
        background-color: transparent !important;
    }

    /* Except the mobile player container and navigation grid */
    .mobile-nav-gradient-container .mobile-player-container {
        background: initial !important;
        background-color: initial !important;
    }
}

/* iOS Safari specific transparency fixes */
@supports (-webkit-touch-callout: none) {
    .mobile-nav-gradient-container {
        background: transparent !important;
        background-color: transparent !important;
    }

    /* Navigation grid should still have gradient */
    .mobile-nav-gradient-container .grid {
        background: linear-gradient(0deg, #121212 0%, rgba(18, 18, 18, 0.95) 10%, rgba(18, 18, 18, 0.9) 25%, rgba(18, 18, 18, 0.8) 40%, rgba(18, 18, 18, 0.6) 60%, rgba(18, 18, 18, 0.4) 75%, rgba(18, 18, 18, 0.2) 85%, rgba(18, 18, 18, 0.1) 95%, transparent 100%) !important;
    }
}

    /* Navigation grid transparency */
    .mobile-nav-gradient-container .grid {
        background: transparent !important;
        background-color: transparent !important;
    }
}

/* iOS Safari and PWA viewport fixes */
@supports (-webkit-touch-callout: none) {
    html {
        height: 100vh;
        height: -webkit-fill-available;
        background-color: var(--background, #000000);
    }

    body {
        min-height: 100vh;
        min-height: -webkit-fill-available;
        background-color: var(--background, #000000);
    }

    #root {
        min-height: 100vh;
        min-height: -webkit-fill-available;
        background-color: var(--background, #000000);
    }

    /* Main content area fixes */
    main[data-main-content] {
        min-height: 100vh;
        min-height: -webkit-fill-available;
        background-color: var(--background, #000000);
    }

    /* ScrollArea viewport fixes */
    [data-radix-scroll-area-viewport] {
        background-color: var(--background, #000000);
        min-height: 100vh;
    }

    /* Scroll content fixes */
    .scroll-content {
        background-color: var(--background, #000000);
        min-height: calc(100vh + 200px);
        padding-bottom: calc(140px + env(safe-area-inset-bottom, 20px));
    }
}

/* Dark mode fixes for iOS */
@supports (-webkit-touch-callout: none) {

    .dark html,
    .dark body,
    .dark #root {
        background-color: #191414 !important;
    }

    .dark main[data-main-content] {
        background-color: #191414 !important;
    }

    .dark [data-radix-scroll-area-viewport] {
        background-color: #191414 !important;
    }

    .dark .scroll-content {
        background-color: #191414 !important;
    }

    /* Keep mobile nav transparent in dark mode too */
    .dark .mobile-nav-gradient-container {
        background: transparent !important;
        background-color: transparent !important;
    }
}